{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sandeepg\\\\Desktop\\\\ImageDnD\\\\imageDnD\\\\src\\\\TestFour.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { openDB } from \"idb\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction TestFour() {\n  _s();\n\n  const [text, settext] = useState('');\n  const [file, setfile] = useState('');\n  let db;\n  useEffect(() => {\n    (async () => {\n      await openDB('DnD', 1, {\n        upgrade(db) {\n          db.createObjectStore('imgStore', {\n            autoIncrement: true\n          });\n        }\n\n      });\n      let trans = db.transaction('DnD', 'readonly');\n    })();\n  }, []);\n\n  const addData = e => {\n    e.preventDefault();\n\n    (async () => {\n      const db = await openDB('DnD', 1);\n      console.log(db);\n      const tx = db.transaction('imgStore', 'readwrite');\n      console.log(tx);\n      const store = tx.objectStore('imgStore');\n      console.log(store);\n      store.put({\n        title: text,\n        image: file\n      });\n      await tx.done; // console.log(store);\n      // console.log(store);\n    })();\n  };\n\n  const onImageChange = e => {\n    const file = e.target.files;\n    setfile(file);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"150px \",\n          height: \"250px\",\n          padding: \"5px\",\n          margin: '15px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          style: {\n            width: '100%',\n            height: '160px',\n            borderRadius: '5px',\n            border: '2px dashed',\n            color: 'red',\n            fontSize: '0.9rem',\n            fontWeight: '500',\n            display: 'flex',\n            justifyContent: 'center',\n            alignItem: 'center',\n            flexDirection: 'column'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: text,\n            onChange: e => settext(e.target.value),\n            placeholder: \"Enter Image lable\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              backgroundColor: \"lightGrey\",\n              padding: \"2%\",\n              marginTop: '20px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                backgroundColor: \"lightGrey\",\n                height: \"60px\",\n                width: \"100%\"\n              },\n              type: \"file\" // value={file}\n              ,\n              multiple: true,\n              onChange: onImageChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              marginTop: '15px'\n            },\n            onClick: addData,\n            children: \"add data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"100%\",\n          display: 'flex',\n          justifyContent: 'flex-start',\n          alignItem: 'flex-start',\n          flexWrap: 'wrap',\n          position: 'relative',\n          height: 'auto',\n          marginTop: '20px',\n          maxHeight: '300px',\n          overflowY: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"\",\n          alt: \"img\",\n          width: \"100\",\n          height: \"50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 3\n    }, this)\n  }, void 0, false);\n}\n\n_s(TestFour, \"G4kXIz97j2qCa3VE3Cp2gny0KJk=\");\n\n_c = TestFour;\nexport default TestFour;\n\nvar _c;\n\n$RefreshReg$(_c, \"TestFour\");","map":{"version":3,"names":["React","useState","useEffect","openDB","TestFour","text","settext","file","setfile","db","upgrade","createObjectStore","autoIncrement","trans","transaction","addData","e","preventDefault","console","log","tx","store","objectStore","put","title","image","done","onImageChange","target","files","width","height","padding","margin","borderRadius","border","color","fontSize","fontWeight","display","justifyContent","alignItem","flexDirection","value","backgroundColor","marginTop","flexWrap","position","maxHeight","overflowY"],"sources":["C:/Users/sandeepg/Desktop/ImageDnD/imageDnD/src/TestFour.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport { openDB } from \"idb\";\r\n\r\nfunction TestFour() {\r\n\r\n    const [text, settext] = useState('');\r\n    const [file, setfile] = useState('');\r\n    let db;\r\nuseEffect(()=>{\r\n    (async ()=>{\r\n        await openDB('DnD',1,{\r\n            upgrade(db){\r\n                db.createObjectStore('imgStore',{\r\n                    autoIncrement:true\r\n                })\r\n            }\r\n        });\r\n\r\n        let trans = db.transaction('DnD','readonly');\r\n        \r\n\r\n\r\n\r\n    })();\r\n},[]);\r\n\r\nconst addData =(e)=>{\r\ne.preventDefault();\r\n(async()=>{\r\n    const db =await openDB('DnD',1);\r\n    console.log(db);\r\n    const tx = db.transaction('imgStore', 'readwrite');\r\n    console.log(tx);\r\n    const store =  tx.objectStore('imgStore')\r\n    console.log(store);\r\n     store.put({title: text,image:file});\r\n    await tx.done;\r\n    // console.log(store);\r\n    // console.log(store);\r\n})();\r\n}\r\n\r\nconst onImageChange=(e)=>{\r\n    const file = e.target.files;\r\n    setfile(file);\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n <>\r\n  <div>\r\n      <div style={{ width: \"150px \", height:\"250px\", padding: \"5px\",margin:'15px' }}>\r\n        <form style={{width:'100%',height:'160px',borderRadius:'5px',border:'2px dashed', color:'red' , fontSize:'0.9rem', fontWeight:'500', display:'flex', justifyContent:'center', alignItem:'center',flexDirection:'column'}}>\r\n          <input\r\n            type=\"text\"\r\n            value={text}\r\n            onChange={(e) => settext(e.target.value)}\r\n            placeholder=\"Enter Image lable\"\r\n          ></input>\r\n         \r\n          <span style={{ backgroundColor: \"lightGrey\", padding: \"2%\" ,marginTop:'20px'}}>\r\n            <input\r\n              style={{\r\n                backgroundColor: \"lightGrey\",\r\n                height: \"60px\",\r\n                width: \"100%\",\r\n              }}\r\n              type=\"file\"\r\n              // value={file}\r\n              multiple\r\n              onChange={onImageChange}\r\n            ></input>\r\n          </span>\r\n          <br />\r\n          <br />\r\n          <button style={{marginTop:'15px'}} onClick={addData}>add data</button>\r\n        </form>\r\n      </div>\r\n\r\n      {/* SHOW DATA DIV */}\r\n\r\n      <div style={{ width:\"100%\", display:'flex', justifyContent:'flex-start',alignItem:'flex-start', flexWrap:'wrap', position:'relative', height:'auto', marginTop:'20px', maxHeight:'300px', overflowY:'auto'}}>\r\n        <img src=\"\" alt=\"img\" width=\"100\" height=\"50\" />\r\n      </div>\r\n\r\n     \r\n    </div>\r\n </>\r\n  )\r\n}\r\n\r\nexport default TestFour"],"mappings":"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"},"metadata":{},"sourceType":"module"}