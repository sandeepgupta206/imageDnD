{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sandeepg\\\\Desktop\\\\ImageDnD\\\\imageDnD\\\\src\\\\TestFour.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { openDB } from \"idb\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction TestFour() {\n  _s();\n\n  const [text, settext] = useState('');\n  const [file, setfile] = useState('');\n  let db;\n  useEffect(() => {\n    (async () => {\n      await openDB('DnD', 1, {\n        upgrade(db) {\n          db.createObjectStore('imgStore', {\n            autoIncrement: true\n          });\n        }\n\n      }); // let trans = db.transaction('imgStore','readonly');\n      // let store = trans.objectStore('imgStore');\n      // let getReg = store.getAll();\n      // console.log(getReg);\n      // getReg.onsuccess = e=>{\n      //   console.log(e.targte);\n      // }\n      // getReg.onerror = e=>{\n      //   console.log(e);\n      // }\n      // const request = indexedDB.open('DnD');\n      // request.onsuccess = ()=>{\n      //   const db = request.result;\n      //   console.log(db);\n      //   const store = db.transaction('imgStore', 'readonly');\n      //   let getReq = store.result;\n      // }\n      // var transaction = db.transaction([\"imgStore\"]);\n      // var objectStore = transaction.objectStore(\"imgStore\");\n      // var request = objectStore.get(\"0\");\n      // request.onerror = event => {\n      // };\n      // request.onsuccess = event => {\n      //   // Do something with the request.result!\n      //   console.log(\"Name for SSN 444-44-4444 is \" + request.result.name);\n      // };\n    })();\n\n    getData;\n  });\n\n  function getData(db, id) {\n    const txt = db.transaction('imgStore', 'readonly');\n    const store = txt.objectStore('imgStore');\n    let query = store.get(id);\n\n    query.onsuccess = event => {\n      if (!event.target.result) {\n        console.log(`${id} not found`);\n      } else {\n        console.table(event.targte.result);\n      }\n    };\n\n    query.onerror = event => {\n      console.log(event.target.errorCode);\n    };\n\n    txt.oncomplete = () => {\n      db.close();\n    };\n  }\n\n  ;\n\n  const addData = e => {\n    e.preventDefault();\n\n    (async () => {\n      const db = await openDB('DnD', 1);\n      const tx = db.transaction('imgStore', 'readwrite');\n      const store = tx.objectStore('imgStore');\n      store.put({\n        title: text,\n        image: file\n      });\n      await tx.done;\n      console.log(store); // console.log(store);\n    })();\n  };\n\n  const onImageChange = e => {\n    const file = e.target.files;\n    setfile(file);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"250px \",\n          height: \"250px\",\n          padding: \"5px\",\n          margin: '30px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          style: {\n            width: '100%',\n            height: '160px',\n            borderRadius: '5px',\n            border: '2px dashed',\n            color: 'red',\n            fontSize: '0.9rem',\n            fontWeight: '500',\n            display: 'flex',\n            justifyContent: 'center',\n            alignItem: 'center',\n            flexDirection: 'column'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: text,\n            onChange: e => settext(e.target.value),\n            placeholder: \"Enter Image lable\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              backgroundColor: \"lightGrey\",\n              padding: \"2%\",\n              marginTop: '25px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                backgroundColor: \"lightGrey\",\n                height: \"60px\",\n                width: \"100%\"\n              },\n              type: \"file\" // value={file}\n              ,\n              multiple: true,\n              onChange: onImageChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              marginTop: '15px'\n            },\n            onClick: addData,\n            children: \"add data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"100%\",\n          display: 'flex',\n          justifyContent: 'flex-start',\n          alignItem: 'flex-start',\n          flexWrap: 'wrap',\n          position: 'relative',\n          height: 'auto',\n          marginTop: '20px',\n          maxHeight: '300px',\n          overflowY: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"\",\n          alt: \"img\",\n          width: \"100\",\n          height: \"50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 3\n    }, this)\n  }, void 0, false);\n}\n\n_s(TestFour, \"G4kXIz97j2qCa3VE3Cp2gny0KJk=\");\n\n_c = TestFour;\nexport default TestFour;\n\nvar _c;\n\n$RefreshReg$(_c, \"TestFour\");","map":{"version":3,"names":["React","useState","useEffect","openDB","TestFour","text","settext","file","setfile","db","upgrade","createObjectStore","autoIncrement","getData","id","txt","transaction","store","objectStore","query","get","onsuccess","event","target","result","console","log","table","targte","onerror","errorCode","oncomplete","close","addData","e","preventDefault","tx","put","title","image","done","onImageChange","files","width","height","padding","margin","borderRadius","border","color","fontSize","fontWeight","display","justifyContent","alignItem","flexDirection","value","backgroundColor","marginTop","flexWrap","position","maxHeight","overflowY"],"sources":["C:/Users/sandeepg/Desktop/ImageDnD/imageDnD/src/TestFour.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport { openDB } from \"idb\";\r\n\r\nfunction TestFour() {\r\n\r\n    const [text, settext] = useState('');\r\n    const [file, setfile] = useState('');\r\n    let db;\r\nuseEffect(()=>{\r\n    (async ()=>{\r\n        await openDB('DnD',1,{\r\n            upgrade(db){\r\n                db.createObjectStore('imgStore',{\r\n                    autoIncrement:true\r\n                })\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        // let trans = db.transaction('imgStore','readonly');\r\n        // let store = trans.objectStore('imgStore');\r\n        // let getReg = store.getAll();\r\n        // console.log(getReg);\r\n        // getReg.onsuccess = e=>{\r\n        //   console.log(e.targte);\r\n        // }\r\n        // getReg.onerror = e=>{\r\n        //   console.log(e);\r\n        // }\r\n\r\n        \r\n        // const request = indexedDB.open('DnD');\r\n        // request.onsuccess = ()=>{\r\n        //   const db = request.result;\r\n        //   console.log(db);\r\n        //   const store = db.transaction('imgStore', 'readonly');\r\n        //   let getReq = store.result;\r\n        // }\r\n        \r\n\r\n        // var transaction = db.transaction([\"imgStore\"]);\r\n        // var objectStore = transaction.objectStore(\"imgStore\");\r\n        // var request = objectStore.get(\"0\");\r\n        // request.onerror = event => {\r\n         \r\n        // };\r\n        // request.onsuccess = event => {\r\n        //   // Do something with the request.result!\r\n        //   console.log(\"Name for SSN 444-44-4444 is \" + request.result.name);\r\n        // };\r\n    })();\r\n    getData\r\n\r\n});\r\n\r\n\r\nfunction getData(db,id){\r\n  const txt = db.transaction('imgStore','readonly');\r\n  const store = txt.objectStore('imgStore');\r\n\r\n  let query = store.get(id);\r\n  query.onsuccess = (event)=>{\r\n    if(!event.target.result){\r\n      console.log(`${id} not found`)\r\n    }\r\n    else{\r\n      console.table(event.targte.result);\r\n    }\r\n  }\r\n  query.onerror = event=>{\r\n    console.log(event.target.errorCode);\r\n  };\r\n\r\n  txt.oncomplete = ()=>{\r\n    db.close();\r\n  };\r\n};\r\n\r\n\r\n\r\n\r\n\r\nconst addData =(e)=>{\r\ne.preventDefault();\r\n(async()=>{\r\n    const db =await openDB('DnD',1);\r\n    const tx = db.transaction('imgStore', 'readwrite');\r\n    const store =  tx.objectStore('imgStore')\r\n     store.put({title: text,image:file});\r\n    await tx.done;\r\n    console.log(store);\r\n    // console.log(store);\r\n})();\r\n}\r\n\r\nconst onImageChange=(e)=>{\r\n    const file = e.target.files;\r\n    setfile(file);\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n <>\r\n  <div>\r\n      <div style={{ width: \"250px \", height:\"250px\", padding: \"5px\",margin:'30px' }}>\r\n        <form style={{width:'100%',height:'160px',borderRadius:'5px',border:'2px dashed', color:'red' , fontSize:'0.9rem', fontWeight:'500', display:'flex', justifyContent:'center', alignItem:'center',flexDirection:'column'}}>\r\n          <input\r\n            type=\"text\"\r\n            value={text}\r\n            onChange={(e) => settext(e.target.value)}\r\n            placeholder=\"Enter Image lable\"\r\n          ></input>\r\n         \r\n          <span style={{ backgroundColor: \"lightGrey\", padding: \"2%\" ,marginTop:'25px'}}>\r\n            <input\r\n              style={{\r\n                backgroundColor: \"lightGrey\",\r\n                height: \"60px\",\r\n                width: \"100%\",\r\n              }}\r\n              type=\"file\"\r\n              // value={file}\r\n              multiple\r\n              onChange={onImageChange}\r\n            ></input>\r\n          </span>\r\n          <br />\r\n          <br />\r\n          <button style={{marginTop:'15px'}} onClick={addData}>add data</button>\r\n        </form>\r\n      </div>\r\n\r\n      {/* SHOW DATA DIV */}\r\n\r\n      <div style={{ width:\"100%\", display:'flex', justifyContent:'flex-start',alignItem:'flex-start', flexWrap:'wrap', position:'relative', height:'auto', marginTop:'20px', maxHeight:'300px', overflowY:'auto'}}>\r\n        <img src=\"\" alt=\"img\" width=\"100\" height=\"50\" />\r\n      </div>\r\n\r\n     \r\n    </div>\r\n </>\r\n  )\r\n}\r\n\r\nexport default TestFour"],"mappings":"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"},"metadata":{},"sourceType":"module"}